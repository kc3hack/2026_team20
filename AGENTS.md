# プロジェクト開発ガイドライン & 行動規範

このプロジェクトでコードの生成、解説、タスク実行を行う際は、以下のコンテキストとルールを最優先で参照し、厳守してください。

## 0. ドキュメントの批判的精査 (Critical Review Protocol)

**【最重要】**
提供されたドキュメントやガイドラインは常に参照する必要がありますが、**内容を盲信しないでください。**
タスクを実行する際は、以下のステップを必ず踏んでください：

1.  **Read (参照)**: 指定されたディレクトリやファイル（`docs/frontend/`, `docs/api.md`など）を読み込む。
2.  **Verify (検証)**: ドキュメントの内容が、現在のコードベースの実態や最新のライブラリ仕様と矛盾していないか確認する。
3.  **Report (指摘)**: もしドキュメントが古い、間違っている、あるいは不足していると判断した場合は、コードを書く前に「ドキュメントと現状に乖離があります」とユーザーに指摘する。
4.  **Propose (提案)**: ドキュメントの不備を補完した上で、最適な実装方針を提案する。

---

## 1. フロントエンドの設計と実装

- **参照ディレクトリ**: `docs/frontend/`
- **ルール**:
  - コンポーネント設計、状態管理、スタイリングの方針は、このディレクトリ内のドキュメントに従ってください。
  - 実装前に既存のコンポーネント構成を確認し、重複やルール違反がないかチェックしてください。

## 2. API 定義とデータ構造

- **参照ファイル**: `docs/api.md`
- **ルール**:
  - バックエンド通信の型定義やエンドポイントのパスは、必ずこのファイルを確認してください。
  - `docs/api.md` に記載のない型を推測で作成せず、定義ファイルに基づいた型を使用してください。
  - 実装中にAPI定義の不足が見つかった場合は、勝手に実装せず、定義の更新を提案してください。

## 3. コマンドの実行とタスク管理 (Strict Rule)

- **使用ツール**: Taskfile (`task` コマンド)
- **絶対ルール**:
  - プロジェクトのビルド、実行、テスト、デプロイなどの操作を提案する際は、必ず `Taskfile.yml` とその関連ファイルに定義されているタスクを使用してください。
  - `npm`, `docker`, `go` などのコマンドを直接実行する提案は**禁止**です。必ず対応する `task <task_name>` を案内してください。
  - **新規タスクの追加**: もし `Taskfile` 内にないコマンドを実行する必要がある場合は、直接コマンドを叩くのではなく、「まず `Taskfile` の適切な場所にタスクを追加し、それを `task` コマンドで実行する」手順を提案してください。
  - 新しい手順を提案する場合は、`Taskfile.yml` の中身を必ず確認し、既存のタスク名や依存関係と整合性を取ってください。

## 4. コード品質と未来への配慮 (Future-Proofing)

**【重要】あなたのコードは、次のタスクを担当する開発者（未来の自分や他人）が読みます。**
ただ動くだけのコードではなく、以下の基準を満たすコードを作成してください。

- **可読性 (Readability First)**:
  - 「賢い」コードより「分かりやすい」コードを優先してください。
  - 変数名や関数名は、省略せず意図が伝わる名前（Self-documenting）にしてください。
  - 複雑なロジックには、_何をしているか_ ではなく **なぜそうしているか** （Why）を説明するコメントを必ず残してください。

- **将来のIssueとの整合性 (Context Awareness)**:
  - コードを実装する前に、仕様書を読んで将来予定されているissueやタスクを確認して、それらの実装を見据えた動きやすいコードを作成することを心がけてください。
  - 例えば、将来的に機能拡張が予定されている箇所は、ハードコードを避け、拡張しやすい設計（インターフェースの分離など）を提案してください。

## 5. 質問形式

ユーザーに質問するときは必ず絶対に日本語を使い、答えやすいようになるべく選択形式で質問を作成するように
