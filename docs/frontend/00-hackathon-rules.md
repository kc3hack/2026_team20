# ハッカソン鉄則（全員必読）

> **この計画書は「理想の完成形」です。ハッカソンでは時間が命。以下のルールを常に意識してください。**

| # | ルール | 具体的な行動 |
|---|-------|-------------|
| 1 | **テストは Unit のみ。E2E は後回し** | E2E (Playwright) は時間が溶ける。**機能実装を最優先**し、テストは `lib/api/client.test.ts` 等のロジック Unit Test だけ書く。E2E は全機能完成後に余裕があれば。 |
| 2 | **Tiptap エディタは MVP で止める** | 最初は `StarterKit` だけで「文字が打てて保存できる」を実現する。ツールバー装飾・色パレット・画像挿入は **後まわし**。沼にハマると 1 日消える。 |
| 3 | **Mock ファーストで開発する** | バックエンド API を待たない。`NEXT_PUBLIC_USE_MOCK=true` でモックデータを返し、UIを先に完成させる。最後に API を繋ぎ込む。**ただし認証（Supabase Auth）だけは最初から実物を使う**（→ [Mock ファースト開発](./09-mock-development.md) 参照） |
| 4 | **shadcn/ui を最優先で使う** | UI コンポーネントは **まず shadcn/ui のカタログを確認**。Button, Card, Input, Dialog, Sheet, Tabs 等、95% のケースは shadcn/ui で解決できる。ゼロから実装するのは時間の無駄。`pnpm dlx shadcn@latest add <component>` で即座に追加。カスタマイズは `className` での Tailwind 追加のみ（内部を直接編集しない）。 |
| 5 | **ロジックは TDD、UI はプレビュー駆動** | **複雑な計算・通信（API client, Repository, Hook）はテストを先に書いてから実装**（TDD）。バグを防ぎ、リファクタリングしやすい。**見た目（コンポーネント、スタイル）はブラウザで確認しながら臨機応変に実装**。デザイン調整は目で見て判断する方が速い。UI テストは後回し。 |
| 6 | **Taskfile でコマンド実行を統一** | 開発サーバー起動、ビルド、テスト実行は必ず `task` コマンドを使う（例: `task frontend:dev`, `task frontend:build`）。直接 `pnpm` や `npm` を叩かない。環境差異を防ぎ、チーム全体で同じ手順を共有する。 |
| 7 | **コミットは細かく、こまめに行う** | 1 機能実装 = 1 コミット以上。ファイル追加、機能実装、テスト追加を分けてコミット。コミットメッセージは具体的に（例: `feat: PlotCard コンポーネント実装`, `test: PlotCard の表示テスト追加`）。大きな変更を一度にコミットしない。 |
| 8 | **レスポンシブデザインを考慮** | すべてのコンポーネントは **レスポンシブデザイン** に対応する。スマートフォン（320px〜）、タブレット（768px〜）、デスクトップ（1024px〜）の各画面サイズで動作確認。SCSS Mixin (`@include respond-to(md)`) を活用し、ブレイクポイントを統一する。 |
| 9 | **自前スタイルは SCSS Module で書く** | Tailwind は shadcn/ui の `className` カスタマイズと簡単なユーティリティ（`p-4`, `flex` 等）のみ。自前のコンポーネントスタイル、アニメーション、疑似要素、複雑なレイアウトは **必ず SCSS Module (`.module.scss`)** で書く。`src/styles/` の Mixin を `@use` でインポートして使用する。→ [スタイリング戦略](./05-styling-guide.md) 参照 |
