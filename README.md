# Wiki Plots

![Wiki Plots](https://kc3.me/cms/wp-content/uploads/2026/02/444e7120d5cdd74aa75f7a94bf8821a5-scaled.png)

## チーム名

チーム20 ほっかれもん

---

## 背景・課題・解決されること

### 背景

「こんなサービスがあったらいいのに」「こういうアプリが欲しい」——誰もが一度は思ったことがあるはずです。しかし、そのアイデアは個人の頭の中で消えていくか、SNSに投稿されても流れていってしまいます。

### 課題

- **アイデアが埋もれる**: 個人が思いついた「本当に欲しいもの」を形にする場所がない
- **企画が磨かれない**: 一人で考えた企画には限界がある。多くの視点からブラッシュアップする仕組みがない
- **既存ツールの壁**: Google DocsやNotionは汎用的すぎて、企画書の共同編集・発見・派生に特化していない

### 解決

Wiki Plotsは、誰でも企画書（Plot）を投稿し、コミュニティの力でリアルタイムに共同編集・改善できるオープンなプラットフォームです。Wikipediaのように誰でも編集でき、GitHubのようにスター・フォークで派生が生まれ、SNSのようにトレンドから面白い企画を発見できます。

> **テーマ「"本当に欲しい"をカタチに」** ——アイデアを一人で抱え込まず、みんなの手で育てる場所を作りました。

---

## プロダクト説明

**Wiki Plots**は、Wiki形式の共同編集プラットフォームです。

ユーザーは「こんなプロダクトが欲しい」という企画書（= **Plot**）を作成し、公開します。他のユーザーはその企画書をセクション単位でリアルタイムに共同編集し、より良いアイデアへとブラッシュアップできます。

### 主な機能

| 機能 | 説明 |
|------|------|
| **共同編集** | セクション単位でリッチテキストをみんなで編集。 |
| **2層履歴保存** | 操作ログ（72時間）+ 5分間隔のスナップショットで、いつでもPlot全体を復元可能 |
| **SNS風トップページ** | 急上昇・新規・人気の3セクションで面白い企画を発見 |
| **スター・フォーク** | 気に入ったPlotにスターを付けたり、派生版を作成して新しい方向性を探れる |
| **コメント** | セクションごとにスレッド形式で議論 |
| **タグ・検索** | PostgreSQL全文検索とタグによる企画の発見 |
| **認証** | GitHub / Google OAuthでかんたんログイン |
| **荒らし対策** | 差分表示・1クリック復元・BAN・一時停止で安全な編集環境を維持 |

---

## 操作説明・デモ動画

> デモ動画は準備中です。完成次第こちらに掲載します。

<!-- デモ動画が完成したら以下のコメントを解除してリンクを更新してください -->
<!-- [デモ動画はこちら](https://www.youtube.com/watch?v=XXXX) -->

### 基本的な操作フロー

1. **ログイン** — GitHub または Google アカウントで認証
2. **Plotを探す** — トップページの急上昇・新規・人気から気になる企画を発見
3. **Plotを読む** — 企画書の詳細をセクション単位で閲覧
4. **編集に参加** — セクションをクリックして共同編集（PC推奨）
5. **リアクション** — スターを付けたり、コメントでフィードバック
6. **フォーク** — 自分なりの派生版を作成して新しいアイデアを展開

---

## 注力したポイント

### アイデア面

- **「企画書の民主化」というコンセプト**: 一人で完結しがちな企画プロセスを、オープンな共同編集で開放することで、多様な視点が自然と集まる仕組みを設計しました
- **Wiki × SNS × GitHub のハイブリッド**: Wikipediaの「誰でも編集」、SNSの「発見・トレンド」、GitHubの「フォーク・スター」を融合し、企画書に最適化した体験を追求しました
- **2層履歴保存**: Minecraftプラグイン「CoreProtect」の設計思想を参考に、操作ログ（ホット）とスナップショット（コールド）の2層構造を採用。リアルタイム性と長期保存を両立しています

### デザイン面

- **モバイルファースト閲覧**: 1/2/3カラムの自動切り替えで、スマートフォンでもストレスなく企画書を閲覧可能

### その他

- **段階的スナップショット間引き**: 直近7日は全保持、7〜30日は1時間に1個、30日以降は1日に1個と、ストレージ効率と復元精度を両立する保持ポリシーを実装
- **Supabaseを用いた高速デプロイ**: 本番環境移行時のマイグレーションの手間をなくし、データベースや認証フローをSupabaseに一任させ、高速なデプロイを実現
- **Infisicalで環境変数の問題ゼロ**: 環境変数をDiscordで送りあう不毛な時間をなくし、全員で.envを共有するサービスを使い、開発のフラストレーションをなくした

---

## 使用技術

### フロントエンド

| 技術 | バージョン | 用途 |
|------|-----------|------|
| Next.js | 16.1.6 | App Routerベースのフレームワーク |
| TypeScript | 5.x | 型安全な開発 |
| React | 19.2.3 | UIライブラリ |
| shadcn/ui (Radix UI) | - | アクセシブルなUIコンポーネント |
| SCSS + Tailwind CSS | 4.x | スタイリング |
| Tiptap | 3.x | リッチテキストエディタ |
| @supabase/ssr | - | Supabase認証（SSR対応） |
| @tanstack/react-query | v5 | サーバー状態管理 |
| react-hook-form + zod | - | フォームバリデーション |
| Lucide React | - | アイコン |
| Vitest | - | ユニットテスト |
| Playwright | - | E2Eテスト |
| Biome | - | リンター・フォーマッター |

### バックエンド

| 技術 | バージョン | 用途 |
|------|-----------|------|
| Python | 3.13 | 言語 |
| FastAPI | - | APIフレームワーク |
| Pydantic | v2 | バリデーション・スキーマ定義 |
| SQLAlchemy | - | ORM |
| Alembic | - | DBマイグレーション |
| APScheduler | - | スナップショットバッチ処理 |
| Pillow | - | 画像リサイズ・サニタイズ |
| Supabase Python | - | DB/Auth/Realtime連携 |
| pytest | - | テスト |
| Ruff | - | リンター |
| basedpyright | - | 型チェック |

### インフラ・その他

| 技術 | 用途 |
|------|------|
| Supabase | PostgreSQL / Auth / Realtime |
| Taskfile | タスクランナー |

### アーキテクチャ概要

```
┌────────────────────────────────────────────────────┐
│                    クライアント                    │
│  Next.js (App Router) + Tiptap + Y.js              │
│  ├── SSR / RSC でページ描画                        │
│  └── Supabase Realtime で変更通知を受信            │
└──────────────┬──────────────────────┬──────────────┘
               │ REST API            │ WebSocket
               ▼                     ▼
┌──────────────────────┐  ┌──────────────────────────┐
│  FastAPI (Backend)   │  │    Supabase Realtime     │
│  ├── Plot/Section    │  │    (ドキュメント同期)    │
│  ├── 履歴・復元      │  └──────────────────────────┘
│  ├── SNS機能         │
│  ├── 画像処理        │
│  └── 荒らし対策      │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│  Supabase            │
│  ├── PostgreSQL (DB) │
│  ├── Auth (OAuth)    │
│  └── Storage         │
└──────────────────────┘
```
